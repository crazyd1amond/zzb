<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>人机五子棋</title>

  <style>
    * {
      padding: 0px;
    }

    .body {
      display: flex;
      background-image: url("https://www.helloimg.com/i/2024/12/17/67616c09cdd79.gif");
      background-size: 100%;
      width: 100%;
      height: 100vh;
      justify-content: center;
      align-items: center;
    }

    .gezi {
      display: flex;
      border: black solid 0.5px;
      background-color: wheat;
      width: 35px;
      height: 35px;
    }

    .gezi_1 {
      display: flex;
      border: transparent solid 0.5px;
      width: 35px;
      height: 35px;
    }

    .point {
      display: flex;
      width: 24px;
      height: 24px;
      margin-top: -12px;
      margin-left: -12px;
      border-radius: 100%;
      background-color: transparent;
    }

    .point_bottom {
      display: flex;
      width: 24px;
      height: 24px;
      align-self: flex-end;
      margin-bottom: -12px;
      margin-left: -25px;
      border-radius: 100%;
      background-color: transparent;
    }
  </style>
</head>

<body class="body">
  <div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
      <div class="point_bottom"></div>
    </div>
  </div>
  <div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
      <div class="point_bottom"></div>
    </div>
  </div>
  <div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
      <div class="point_bottom"></div>
    </div>
  </div>
  <div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
      <div class="point_bottom"></div>
    </div>
  </div>
  <div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
      <div class="point_bottom"></div>
    </div>
  </div>
  <div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
      <div class="point_bottom"></div>
    </div>
  </div>
  <div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
      <div class="point_bottom"></div>
    </div>
  </div>
  <div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
      <div class="point_bottom"></div>
    </div>
  </div>
  <div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
      <div class="point_bottom"></div>
    </div>
  </div>
  <div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
      <div class="point_bottom"></div>
    </div>
  </div>
  <div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
      <div class="point_bottom"></div>
    </div>
  </div>
  <div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
      <div class="point_bottom"></div>
    </div>
  </div>
  <div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
      <div class="point_bottom"></div>
    </div>
  </div>
  <div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
      <div class="point_bottom"></div>
    </div>
  </div>
  <div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
    </div>
    <div class="gezi">
      <div class="point"></div>
      <div class="point_bottom"></div>
    </div>
  </div>
  <div>
    <div class="gezi_1">
      <div class="point"></div>
    </div>
    <div class="gezi_1">
      <div class="point"></div>
    </div>
    <div class="gezi_1">
      <div class="point"></div>
    </div>
    <div class="gezi_1">
      <div class="point"></div>
    </div>
    <div class="gezi_1">
      <div class="point"></div>
    </div>
    <div class="gezi_1">
      <div class="point"></div>
    </div>
    <div class="gezi_1">
      <div class="point"></div>
    </div>
    <div class="gezi_1">
      <div class="point"></div>
    </div>
    <div class="gezi_1">
      <div class="point"></div>
    </div>
    <div class="gezi_1">
      <div class="point"></div>
    </div>
    <div class="gezi_1">
      <div class="point"></div>
    </div>
    <div class="gezi_1">
      <div class="point"></div>
    </div>
    <div class="gezi_1">
      <div class="point"></div>
    </div>
    <div class="gezi_1">
      <div class="point"></div>
    </div>
    <div class="gezi_1">
      <div class="point"></div>
      <div class="point_bottom"></div>
    </div>

  </div>
  </div>

  <script>
    let chushi = document.getElementsByClassName("point")
    let chushi_1 = document.getElementsByClassName("point_bottom")
    let shuzu = []
    for (let i = 0; i < 16; i++) { shuzu[i] = [] }
    for (let i = 0; i < 15; i++) { for (k = 0; k < 16; k++) { shuzu[i][k] = chushi[15*k+i].style.backgroundColor } }
    for (let i = 0; i < 16; i++) { shuzu[15][i] = chushi_1[i].style.backgroundColor }
  function pandua(i) {
  let col = Math.floor(i / 15); 
  let row = i % 15;             
  let currentColor = shuzu[row][col]; // 当前棋子的颜色

  if (!currentColor) return; // 如果当前格子没有颜色，不执行判断

  let count = 1; // 连续相同颜色的棋子数
  let count1 = 1;
  let count2 = 1;
  let count3 = 1;

  // 向右检查
  for (let step = 1; step < 5; step++) {
    if (col + step >= 15 || shuzu[row][col + step] !== currentColor) break;
    count++;   
  }

  // 向左检查
  for (let step = 1; step < 5; step++) {
    if (col - step < 0 || shuzu[row][col - step] !== currentColor) break;
    count++;
  } 
  
  //向上检查
  for (let step = 1; step < 5; step++) {
    if (row - step < 0 || shuzu[row - step][col] !== currentColor) break;
    count1++;
  } 
  //向下检查
  for (let step = 1; step < 5; step++) {
    if (row + step > 14 || shuzu[row + step][col] !== currentColor) break;
    count1++;
  }
  //左上检查
  for (let step = 1; step < 5; step++) {
    if (row - step < 0 ||col - step <0|| shuzu[row - step][col - step] !== currentColor) break;
    count2++;
  }
  //左下检查
  for (let step = 1; step < 5; step++) {
    if (row + step > 14 ||col - step < 0|| shuzu[row + step][col - step] !== currentColor) break;
    count2++;
  }
  //右上检查
  for (let step = 1; step < 5; step++) {
    if (row - step < 0 ||col + step > 15|| shuzu[row - step][col + step] !== currentColor) break;
    count3++;
  }
  //右下检查
  for (let step = 1; step < 5; step++) {
    if (row + step > 14 ||col + step > 15|| shuzu[row + step][col + step] !== currentColor) break;
    count3++;
  }
  // 判断是否连续五个
  if (count >= 5||count1 >= 5||count2 >= 5||count3 >= 5) {
    if (currentColor === 'black') {
      alert('黑子获胜');
      location.reload();
    } else if (currentColor === 'white') {
      alert('白子获胜');
      location.reload();
    }
  }
}

function pandua1(i) {
  let col = i;
  let row = 15;             
  let currentColor = shuzu[row][col]; // 当前棋子的颜色

  if (!currentColor) return; // 如果当前格子没有颜色，不执行判断

  let count = 1; // 连续相同颜色的棋子数
  let count1 = 1;
  let count2 = 1;
  let count3 = 1;

  // 向右检查
  for (let step = 1; step < 5; step++) {
    if (col + step >= 15 || shuzu[row][col + step] !== currentColor) break;
    count++;   
  }

  // 向左检查
  for (let step = 1; step < 5; step++) {
    if (col - step < 0 || shuzu[row][col - step] !== currentColor) break;
    count++;
  } 
  
  //向上检查
  for (let step = 1; step < 5; step++) {
    if (row - step < 0 || shuzu[row - step][col] !== currentColor) break;
    count1++;
  } 
  //向下检查
  for (let step = 1; step < 5; step++) {
    if (row + step > 14 || shuzu[row + step][col] !== currentColor) break;
    count1++;
  }
  //左上检查
  for (let step = 1; step < 5; step++) {
    if (row - step < 0 ||col - step <0|| shuzu[row - step][col - step] !== currentColor) break;
    count2++;
  }
  //左下检查
  for (let step = 1; step < 5; step++) {
    if (row + step > 14 ||col - step < 0|| shuzu[row + step][col - step] !== currentColor) break;
    count2++;
  }
  //右上检查
  for (let step = 1; step < 5; step++) {
    if (row - step < 0 ||col + step > 15|| shuzu[row - step][col + step] !== currentColor) break;
    count3++;
  }
  //右下检查
  for (let step = 1; step < 5; step++) {
    if (row + step > 14 ||col + step > 15|| shuzu[row + step][col + step] !== currentColor) break;
    count3++;
  }
  // 判断是否连续五个
  if (count >= 5||count1 >= 5||count2 >= 5||count3 >= 5) {
    if (currentColor === 'black') {
      alert('黑子获胜');
      location.reload();
    } else if (currentColor === 'white') {
      alert('白子获胜');
      location.reload();
    }
  }
}
    
    let a = 0
    for (let i = 0; i < chushi.length; i++) {
    chushi[i].addEventListener('click', () => {
        // 步骤1：设置颜色
        if (chushi[i].style.backgroundColor) {
            return; // 如果已有颜色，跳过
        }
        if (a % 2 === 0) {
            chushi[i].style.backgroundColor = "black"; // 设置黑色
        } else {
            chushi[i].style.backgroundColor = "white"; // 设置白色
        }
        a++; // 切换棋子

        // 步骤2：更新 shuzu 数组
        for (let row = 0; row < 16; row++) {
            for (let col = 0; col < 15; col++) {
                shuzu[row][col] = chushi[15 * col + row].style.backgroundColor;
            }
        }

        // 步骤3：检查五子连珠
        setTimeout(() => {
            pandua(i); // 调用 pandua 检查胜利
        }, 0);
    });
}

for (let i = 0; i < chushi_1.length; i++) {
    chushi_1[i].addEventListener('click', () => {
        // 设置颜色
        if (chushi_1[i].style.backgroundColor) {
            return; // 如果已有颜色，跳过
        }
        if (a % 2 === 0) {
            chushi_1[i].style.backgroundColor = "black"; // 设置黑色
        } else {
            chushi_1[i].style.backgroundColor = "white"; // 设置白色
        }
        a++; // 切换棋子

        // 更新 shuzu 数组
        for (let j = 0; j < 16; j++) {
            shuzu[15][j] = chushi_1[j].style.backgroundColor;
        }

        setTimeout(() => {
            pandua1(i); // 调用 pandua 检查胜利
        }, 0);
    });
}

    
  </script>
</body>

</html>
